#include <stdio.h>
#include <stdlib.h>
#include <time.h>
#include <locale.h>

int main() {
    int mode, yournumb, numb, attempts;
    int min = 1, max = 1000;
    setlocale(LC_ALL, "Rus");
    srand(time(NULL));

    printf("выберите режим:\n1. пользователь угадывает число\n2. компьютер угадывает число\nвведите номер режима (1 или 2): ");
    scanf_s("%d", &mode);

    if (mode == 1) {
        // 1. пользователь угадывает 
        numb = rand() % 1000 + 1; 
        attempts = 0;

        do {
            printf("введите предполагаемое число: ");
            scanf_s("%d", &yournumb);
            attempts++;

            if (yournumb < numb) {
                printf("загаданное число больше.\n");
            }
            else if (yournumb > numb) {
                printf("загаданное число меньше.\n");
            }
            else {
                printf("ура!!! вы угадали!!! загаданное число: %d\n", numb);
            }
        } while (yournumb != numb);

        printf("число попыток: %d\n", attempts);

    }
    else if (mode == 2) {
        // 2. компьютер угадывает
        printf("введите загаданное число от 1 до 1000: ");
        scanf_s("%d", &numb);
        attempts = 0;

        while (1) {
            attempts++;
            yournumb = (min + max) / 2; 

            printf("возможно это число %d ..?\n", yournumb);
            char zn;
            printf("введите >, < или =: ");
            scanf_s("%c", &zn);

            if (zn == '=') {
                printf("компьютер угадал ;) загаданное число: %d    \n", yournumb);
                break;
            }
            else if (zn == '>') {
                min = yournumb + 1; 
            }
            else if (zn == '<') {
                max = yournumb - 1;
            }

            if (min > max) {
                printf("ошибка(\n");
                break;
            }
        }

        printf("число попыток: %d\n", attempts);

    }
    else {
        printf("выберите режим (1/2) \n");
    }

    return 0;
}
